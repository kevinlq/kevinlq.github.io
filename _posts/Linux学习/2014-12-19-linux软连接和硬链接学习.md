---
layout : life
title: linux软连接和硬链接的学习
category : linux学习
duoshuo: true
date : 2014-12-19
---

<!-- more -->

******

**概述：**
>
linux的inode这里就不在重复赘述，若感兴趣可以自行google或者baidu,在linux系统中可以通过ln命令对一个已经存在的文件在建立一个新的链接，而不复制文件的内容，链接有软连接和硬链接之分。

**硬链接：**

硬链接指通过索引节点来进行的链接，源文件名和链接文件名都指向相同的物理地址，目录不能有硬链接，硬链接不能跨越文件系统(不能跨越不同的分区)文件再磁盘中只有一个拷贝，节省硬盘空间，防止文件被误删，之删除一个链接并不影响索引节点本身和其他连接，只有最后一个链接被删除以后文件数据块以及目录的链接才会被释放，才算是真正的被删除；

**软链接**

软链接是一种特殊的文件，作用可以理解为一个指针，作用在这个文件上的操作出了删除都直接转向实际指向文件，类似windows的快捷方式；

**ln命令详解**

```sh
 ln [options] source dist，其中 option 的格式为 :
　　[-bdfinsvF] [-S backup-suffix] [-V {numbered,existing,simple}]
　　[--help] [--version] [--]
　　-f : 链结时先将与 dist 同档名的档案删除
　　-d : 允许系统管理者硬链结自己的目录
　　-i : 在删除与 dist 同档名的档案时先进行询问
　　-n : 在进行软连结时，将 dist 视为一般的档案
　　-s : 进行软链结(symbolic link)
　　-v : 在连结之前显示其档名
　　-b : 将在链结时会被覆写或删除的档案进行备份
　　-S SUFFIX : 将备份的档案都加上 SUFFIX 的字尾
　　-V METHOD : 指定备份的方式
　　--help : 显示辅助说明
　　--version : 显示版本
```
>
**说明** : Linux/Unix 档案系统中，有所谓的连结(link)，我们可以将其视为档案的别名，而连结又可分为两种 : 硬连结(hard link)与软连结(symbolic link)，硬连结的意思是一个档案可以有多个名称，而软连结的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬连结是存在同一个档 案系统中，而软连结却可以跨越不同的档案系统。ln source dist 是产生一个连结(dist)到 source，至于使用硬连结或软链结则由参数决定。不论是硬连结或软链结都不会将原本的档案复制一份，只会占用非常少量的磁碟空间。

